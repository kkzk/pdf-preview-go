# PDF Preview Go - UI/UX ガイドライン

## UI設計原則

### 1. 直感的操作
- **行全体クリック**: ファイル・フォルダは行全体がクリック可能
- **視覚的フィードバック**: ホバー・フォーカス状態の明確な表示
- **一貫性**: 同様の操作は同じ方法で実現

### 2. 効率的なレイアウト
- **フレックスレイアウト**: 画面サイズに応じた動的調整
- **領域最大活用**: PDF表示エリアは利用可能な全スペースを使用
- **最小限UI**: 必要な要素のみ表示、コンパクトな設計

### 3. ユーザビリティ
- **キーボード操作**: Tab, Enter, Spaceキーでの操作対応
- **アクセシビリティ**: role, tabindex, aria属性の適切な設定
- **エラー防止**: 重要な操作には確認ダイアログ

## コンポーネント設計指針

### レスポンシブ設計
```css
/* コンテナは利用可能な全スペースを使用 */
.container {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

/* クリック可能領域の明確化 */
.clickable {
  cursor: pointer;
  user-select: none;
  transition: background-color 0.2s ease;
}

.clickable:hover {
  background: #f8f9fa;
}
```

### 状態管理
- **リアクティブ**: Svelteのリアクティブ宣言を活用
- **イベント駆動**: コンポーネント間通信にカスタムイベント使用
- **状態の一元管理**: App.svelteで主要状態を管理

## 実装パターン

### 1. 行クリック実装
```svelte
<div class="row"
     on:click={handleClick}
     on:keydown={e => e.key === 'Enter' && handleClick()}
     tabindex="0"
     role="button">
  <div class="content">
    <!-- コンテンツ -->
  </div>
  <div class="controls">
    <button on:click|stopPropagation={handleControlClick}>
      <!-- コントロールボタン -->
    </button>
  </div>
</div>
```

### 2. 動的高さ制御
```svelte
<div style="height: {isExpanded ? 'auto' : '40px'}; flex-shrink: 0;">
  <!-- 可変高さコンテンツ -->
</div>
```

### 3. イベント委譲
```svelte
<script>
  import { createEventDispatcher } from 'svelte'
  const dispatch = createEventDispatcher()
  
  function handleAction(data) {
    dispatch('action-name', data)
  }
</script>
```

## カラーパレット

### 基本色
- **背景**: `#ffffff` (白)
- **セカンダリ背景**: `#f8f9fa` (薄いグレー)
- **境界線**: `#dee2e6` (グレー)

### インタラクティブ色
- **ホバー**: `#e9ecef` (中間グレー)
- **アクティブ**: `#e7f3ff` (薄い青)
- **フォーカス**: `rgba(0, 123, 255, 0.25)` (青のアウトライン)

### テキスト色
- **メイン**: `#495057` (ダークグレー)
- **見出し**: `#343a40` (より濃いグレー)
- **セカンダリ**: `#6c757d` (ミディアムグレー)

## アニメーション・トランジション

### 標準アニメーション時間
- **高速**: `0.1s` (即座の反応)
- **標準**: `0.2s` (一般的なホバー・状態変化)
- **低速**: `0.3s` (大きなレイアウト変更)

### 推奨トランジション
```css
/* ホバー効果 */
transition: background-color 0.2s ease;

/* サイズ変更 */
transition: height 0.3s ease;

/* 透明度変更 */
transition: opacity 0.2s ease;
```

## レイアウト仕様

### パネル構成
```
┌─────────────┬─────────────────────┐
│ FileTree    │                     │
├─────────────┤  PDF Viewer         │
│ Selected    │                     │
├─────────────┤                     │
│ Sheets      │                     │
├─────────────┼─────────────────────┤
│ (Resize)    │ Log Panel           │
└─────────────┴─────────────────────┘
```

### 最小・最大サイズ
- **左パネル幅**: 250px - 500px
- **パネル高さ**: 最小 20% - 最大 60%
- **ログパネル**: 折りたたみ時 30px, 展開時 30%-80%

## エラー処理UI

### ユーザーフレンドリーメッセージ
- **成功**: 緑色アイコン + 簡潔なメッセージ
- **警告**: 黄色アイコン + 注意事項
- **エラー**: 赤色アイコン + 解決方法の提示

### ログ表示
```
[時刻] ✅ 成功: PDFファイルを保存しました
[時刻] ⚠️  警告: ファイルが変更されました
[時刻] ❌ エラー: 保存に失敗しました - ディスク容量を確認してください
```

## パフォーマンス指針

### レンダリング最適化
- **仮想スクロール**: 大量データの効率的表示
- **遅延ローディング**: 必要時のみコンポーネント読み込み
- **メモ化**: 重複計算の防止

### メモリ管理
- **イベントリスナー**: onDestroy での確実なクリーンアップ
- **リアクティブ宣言**: 不要な再計算の防止
- **オブジェクト参照**: 適切なガベージコレクション

---

このガイドラインに従うことで、一貫性があり、使いやすく、保守しやすいUIを実現できます。
